### **📌 プロジェクト進行方針（Redmine チケット化）**
#### **✅ 目的**
- 既存の **バックエンド（Java + MyBatis + Oracle）API** を変更せずに、そのまま利用する。
- **フロントエンドを jQuery + Ajax から Ionic（React） に移行** し、スマホ向けUIを最適化する。
- **API通信の仕組みを `axios` で統一し、メンテナンスしやすい構造にする。**

---

## **🔹 進行フェーズ**
| **フェーズ** | **作業内容** |
|-------------|------------|
| **① 現状分析フェーズ** | 既存の API & フロントエンドの調査 |
| **② 設計・環境構築フェーズ** | Ionic 環境のセットアップ & API 通信設計 |
| **③ 開発フェーズ** | UI 実装 + API 連携の開発 |
| **④ テスト・移行フェーズ** | 動作確認 & リリース |

---

## **✅ ① 現状分析フェーズ**
**📌 目的:** 既存プロジェクトの仕様を整理し、移行作業の計画を立てる。  

### **🔹 チケット**
- **【API仕様の調査】**
  - MyBatis の `Mapper`（XML/Annotation）と `Service` の構成を確認。
  - API の **エンドポイント・リクエスト・レスポンス** を整理（Excel/Swagger化）。
  - 認証方式（セッション or トークン）を確認。

- **【フロントエンドの調査（jQuery + Ajax）】**
  - `$.ajax` / `$.get` / `$.post` の使用箇所を特定し、**どの API を呼び出しているか** を整理。
  - UI の各画面が **どの API を利用しているか** を一覧化。
  - **JavaScript のグローバル変数や DOM 操作** の整理。

- **【Oracle DB のデータ構造確認】**
  - テーブル構成（主キー、外部キー、制約）を確認し、**API と DB のマッピング** を作成。

---

## **✅ ② 設計・環境構築フェーズ**
**📌 目的:** Ionic（React）での開発環境を整え、API通信を設計する。  

### **🔹 チケット**
- **【Ionic 環境のセットアップ】**
  - `ionic start` を使用して、新規プロジェクトを作成（React + TypeScript）。
  - `@ionic/react` + `@ionic/react-router` の導入。
  - `react-router` でのルーティング設計。

- **【API通信の設計】**
  - `axios` を導入し、**共通APIモジュール** を作成（`api.ts`）。
  - 認証トークンやリクエストヘッダーの管理を統一する設計を決定。
  - **エラーハンドリング・タイムアウト処理** の方針を決定。

- **【Ionic UIコンポーネントの選定】**
  - 既存 UI を基に、`IonButton`, `IonList`, `IonModal` などをマッピング。
  - **モバイル向けデザインの方針を決定**（レスポンシブ対応、テーマ設定）。

---

## **✅ ③ 開発フェーズ**
**📌 目的:** **jQuery の Ajax 通信を `axios` に置き換え、Ionic の UI でスマホ向け画面を実装する。**  

### **🔹 チケット**
- **【ログイン画面の実装】**
  - API を利用した **認証処理の実装（トークン管理）**。
  - **ログイン成功時のリダイレクト処理**。

- **【ダッシュボード画面の実装】**
  - 既存のダッシュボードデータを **API 経由で取得し、表示** する。
  - 必要なカード・リスト・グラフコンポーネントを作成。

- **【CRUD 操作の実装】**
  - **作成（Create）：** フォーム入力 → `axios.post()` で API 送信。
  - **読込（Read）：** `axios.get()` で一覧取得 → `IonList` で表示。
  - **更新（Update）：** 編集フォーム → `axios.put()` で API 送信。
  - **削除（Delete）：** 削除ボタン → `axios.delete()` で API 送信。

- **【API 通信の共通エラーハンドリングの実装】**
  - `401 (Unauthorized)` 時の **ログアウト処理**。
  - `500 (Internal Server Error)` の **エラーメッセージ表示**。

---

## **✅ ④ テスト・移行フェーズ**
**📌 目的:** Ionic で開発したアプリをテストし、既存フロントエンドと切り替える。  

### **🔹 チケット**
- **【単体テスト】**
  - API 通信のテスト（Mock API を利用）。
  - フロントエンドの動作テスト（`Jest + React Testing Library`）。

- **【結合テスト】**
  - フロントエンドとバックエンド API の統合テスト。
  - データの整合性チェック。

- **【UAT（ユーザー受入テスト）】**
  - UI の動作確認（スマホ実機テスト）。
  - **レスポンシブデザインの確認**（iOS / Android）。

- **【本番環境へのリリース】**
  - Ionic アプリのビルド (`ionic build`)。
  - `ionic capacitor run android/ios` でデプロイ & テスト。
  - 既存の jQuery フロントエンドと切り替え。

---

## **✅ Redmine チケット化（概要）**
| **カテゴリ** | **タイトル** | **内容** |
|------------|------------|--------|
| **調査** | API仕様の整理 | 既存 API のリクエスト・レスポンスを一覧化 |
| **調査** | jQuery の通信調査 | `$.ajax` の API 呼び出しを全て洗い出し |
| **環境構築** | Ionic 環境のセットアップ | Ionic + React のプロジェクトを作成 |
| **環境構築** | API 通信の共通設計 | `axios` で API リクエストを統一 |
| **UI実装** | ログイン画面の実装 | 認証処理の作成（API 連携） |
| **UI実装** | ダッシュボード画面の実装 | API でデータを取得し、表示 |
| **UI実装** | CRUD操作の実装 | API で作成・更新・削除を実装 |
| **テスト** | APIテスト | `Jest` で API の動作確認 |
| **テスト** | UIテスト | スマホ実機で表示確認 |
| **移行** | 本番環境リリース | 既存の jQuery フロントと切り替え |

---

## **🚀 まとめ**
✅ **既存の API を変更せず、そのまま Ionic（React）に置き換える計画。**  
✅ **jQuery の `$.ajax` を `axios` に置き換え、API通信を統一。**  
✅ **Ionic の UI を活用し、スマホ向けの最適化を行う。**  
✅ **Redmine に細かくチケットを作成し、進捗を管理しながら移行を進める。** 🚀  

**👉 この方針で進めれば、スムーズに jQuery → Ionic（React）へ移行可能！**